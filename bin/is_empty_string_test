#!/bin/bash

readonly cf="\\033[0m"
readonly red="\\033[0;31m"
readonly green="\\033[0;32m"

TRUE=0
FALSE=1

assert_equal() {
  if [[ "$1" != "$2" ]]; then
    return 1
  else
    return 0
  fi
}

test_err() {
  echo -e "${red}❌${cf} $1" 1>&2
}

test_succ() {
  echo -e "${green}✓ ${cf} $1" 1>&2
}

test_is_empty_string() {
  local case="$1"
  local str="$3"
  local expected="$2"
  local actual

  if is_empty_string "$str"; then
    actual="$TRUE"
  else
    actual="$FALSE"
  fi

  if assert_equal "$actual" "$expected"; then
    test_succ "test_is_empty_string $case"
  else
    test_err "test_is_empty_string $case"
  fi
}

run_test() {
  test_is_empty_string "case empty string" "$TRUE" ""
  test_is_empty_string "case not empty string" "$FALSE" "AAAAAfg"
}

run_test "$@"
